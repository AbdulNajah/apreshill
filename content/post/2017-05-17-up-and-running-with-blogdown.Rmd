---
title: Up and running with blogdown
author: Alison Presmanes Hill
date: '2017-05-17'
slug: up-and-running-with-blogdown
categories:
  - R
tags:
  - blogdown
summary: A quick guide to getting up and running with blogdown, Github, and Netlify
draft: TRUE
---

```{r include = FALSE}
knitr::opts_chunk$set(eval = FALSE, collapse = TRUE, comment = NA, tidy = FALSE)
```


## Read up on blogdown

Before you start, I recommend reading the following:

* _["blogdown: Creating Websites with R Markdown"](https://bookdown.org/yihui/blogdown/)_ by Yihui Xie and Amber Thomas
* _["Making a Website Using Blogdown, Hugo, and GitHub pages"](https://proquestionasker.github.io/blog/Making_Site/)_ by Amber Thomas
* _["Getting Started with Blogdown"](https://www.znmeb.mobi/2017/05/12/getting-started-with-blogdown/)_ by M. Edward (Ed) Borasky

I also found a comment by Eric Nantz, the creator of [the R-Podcast](http://r-podcast.org), in the [`rbind/support` issues section on Github](https://github.com/rbind/support) to be helpful:

* [https://github.com/rbind/support/issues/12](https://github.com/rbind/support/issues/12)

Even with all these great resources, getting myself up and running took a few tries, so in this post I'm passing along what ended up working for me. Everyone's mileage may vary, though, depending on your operating system and your approach.

## RStudio, Git, and Terminal

I use R, RStudio, git (usually via gitlab, occasionally via github), and terminal regularly, so I'm assuming familiarity here with all of these. If you are not comfortable with these, go back and thoroughly read Amber's post on ["Making a Website Using Blogdown, Hugo, and GitHub pages."](https://proquestionasker.github.io/blog/Making_Site/)

## In RStudio console



1. First, I installed `blogdown` in my RStudio console. Your working directory doesn't matter here. If you already have `devtools` installed like I did, you can just use the second line below:

```{r}
if (!requireNamespace("devtools")) install.packages("devtools")
devtools::install_github("rstudio/blogdown")
```

1. Still in the RStudio console, load the `blogdown` package to run the `install_hugo` function (again, your working directory doesn't matter here): 

```{r}
blogdown::install_hugo()
# or
# library(blogdown)
# install_hugo()
```

## In Github

1. Go online to your [Github](https://github.com) account and create a new repository. 

![Figure: Creating a new repository in Github](/img/github-new-repo.png)

A few things you need to know now:

* If you are going to use Netlify to host the site, rather than Github Pages, you can name this repository anything you want! You can see some of the repo names used by members of the `rbind` organization [here](https://github.com/rbind/repositories).
* If you want to host your site as a Github Page, you should name your repository `yourgithubusername.github.io`
    
## In terminal

Or your alternative command line tool for a Windows machine.
    
* Use `cd` to navigate into the directory where you want your repo to be, and then type:
`git clone https://github.com/apreshill/apreshill.git`

This is what subsequently printed in my terminal window:

```{r}
ORPA473:r-projects hillali$ git clone https://github.com/apreshill/apreshill.git
Cloning into 'apreshill'...
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
Unpacking objects: 100% (3/3), done.
Checking connectivity... done.
ORPA473:r-projects hillali$ 
```

## Back in RStudio

_NB_: this is where my instructions differ from Ed's- he states that `blogdown` won't create a website in your root folder because the `README.md` file is already there. I didn't find that to be the case- I tested this with a new site as well, so again your experience may vary.

* Use your menu buttons on top to select File --> New Project --> Existing directory, then I pointed RStudio to 

![Figure: Creating a new project in an existing directory in RStudio](/img/r-project-existing-directory.png)

* Now, if you are using git for version control, edit your `*gitignore` file. I opened mine from RStudio but you can use any text editor to open and edit this file. Below is what it should look like: the first four lines will automatically be in this file if you have set up your RStudio Project, but you need to add the `public/` line ([read about here](https://bookdown.org/yihui/blogdown/version-control.html).)

```{r}
.Rproj.user
.Rhistory
.RData
.Ruserdata
blogdown
.DS_Store
public/ # if using Netlify
```


* Finally you can start to build your site using the `blogdown::new_site()` function. But first you should know...

    - If you want a theme other than the default, which is the lithium theme, you can do this now!
    
```{r}
# for example, create a new site with the academic theme
blogdown::new_site(theme = "gcushen/hugo-academic", sample = TRUE)
```

    
    - If instead you want to add the theme (like I did, because I didn't see the above example until it was too late!), use this function:
    
```{r}
install_theme("gcushen/hugo-academic", theme_example = TRUE, update_config = TRUE)
```

## In RStudio

### Edit your configurations

1. Edit the `baseURL:` in your `config.toml` file

* [From Yihui & Amber's `blogdown` book:](https://bookdown.org/yihui/blogdown/configuration.html#toml-syntax)
* [Amber's instructions for site configuration](https://proquestionasker.github.io/blog/Making_Site/#site-configuration)


### Posting

This surprisingly was harder than you would think. Note: in the academic theme, these are called posts. Here are some relevant links:

* [From Yihui & Amber's `blogdown` book:](https://bookdown.org/yihui/blogdown/rstudio-ide.html)
* [Also from Yihui & Amber's `blogdown` book, on .md versus .Rmd posts:](https://bookdown.org/yihui/blogdown/output-format.html)
* [Amber's instructions for adding a blog post](https://proquestionasker.github.io/blog/Making_Site/#adding-a-blog-post-or-portfolio-piece)

#### New markdown posts

* To author a new plain `.md` post, either use this function in your console:

```{r}
blogdown::new_post()
blogdown::new_post(rmd = FALSE) # false is the default!
```

Here are the arguments according to `?new_post`:

```{r}
new_post(title, kind = "default", open = interactive(), 
    author = getOption("blogdown.author"), categories = NULL, 
    tags = NULL, date = Sys.Date(), file = NULL, slug = NULL, 
    subdir = getOption("blogdown.subdir", "post"), rmd = getOption("blogdown.rmd", 
        FALSE))
```

Title needs to be in quotes.

Or alternatively, you can use the handy Addins dropdown menu in the 

#### New RMarkdown posts

* To author a new `.Rmd` post where you can use R chunks and have them rendered, either use this function in your console:

```{r}
blogdown::new_post(rmd = TRUE) # false is the default!
```

Or again, you can use the handy Addins dropdown menu in the 

* _**Importantly**_, to have the `.Rmd` file include rendered R chunks, you must run `blogdown::serve_site()` first before pushing to your Github repo. You can check that there is an `.html` file in the right directory, in addition to your `.Rmd` file. 
* _**Warning:**_ at least using the academic theme, I get deployment errors if I (by pure habit at this point!) instead knit to html rather than using `blogdown::serve_site()`. 


### Adding images to a post

If you want to include an image that is not a figure created from an R chunk, the [recommended method](https://github.com/rstudio/blogdown/issues/45) is to (a) add the image to your `/static/img/` folder, then (b) reference the image using the relative file path as follows:

```{r}
![my-image](/img/my-image.png)
```

