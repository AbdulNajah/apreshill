---
title: "Up and running with blogdown"
author: "Alison Presmanes Hill"
date: '2017-05-17'
slug: up-and-running-with-blogdown
summary: A quick guide to getting up and running with blogdown, Github, and Netlify
tags: blogdown
categories: R
output:
  blogdown::html_page:
    toc: true
---

```{r include = FALSE}
knitr::opts_chunk$set(eval = FALSE, collapse = TRUE, comment = NA, tidy = FALSE)
```


## Read up on blogdown

Before you start, I recommend reading the following:

* ["blogdown: Creating Websites with R Markdown" by Yihui Xie and Amber Thomas](https://bookdown.org/yihui/blogdown/)
* ["Making a Website Using Blogdown, Hugo, and GitHub pages" by Amber Thomas](https://proquestionasker.github.io/blog/Making_Site/)
* ["Getting Started with Blogdown" by M. Edward (Ed) Borasky](https://www.znmeb.mobi/2017/05/12/getting-started-with-blogdown/)

I also found a comment by Eric Nantz, the creator [the R-Podcast](http://r-podcast.org), in the [`rbind/support` issues section on Github](https://github.com/rbind/support) to be helpful:

* [https://github.com/rbind/support/issues/12](https://github.com/rbind/support/issues/12)

Even with all these great resources, getting myself up and running took a few tries, so in this post I'm passing along what ended up working for me. Everyone's mileage may vary, though, depending on your operating system and your approach.

## RStudio, Git, and Terminal

I use R, RStudio, git (usually via gitlab, occasionally via github), and terminal regularly, so I'm assuming familiarity here with all of these. If you are not comfortable with these, go back and thoroughly read Amber's post on ["Making a Website Using Blogdown, Hugo, and GitHub pages"](https://proquestionasker.github.io/blog/Making_Site/).

## In RStudio console



1. First, I installed `blogdown` in my RStudio console. Your working directory doesn't matter here. If you already have `devtools` installed like I did, you can just use the second line below:

```{r}
if (!requireNamespace("devtools")) install.packages("devtools")
devtools::install_github("rstudio/blogdown")
```

1. Still in the RStudio console, load the `blogdown` package to run the `install_hugo` function (again, your working directory doesn't matter here): 

```{r}
blogdown::install_hugo()
# or
# library(blogdown)
# install_hugo()
```

## In Github

1. Go online to your [Github](https://github.com) account and create a new repository. A few things you need to know now:

* If you are going to use Netlify to host the site, rather than Github Pages, you can name this repository anything you want! You can see some of the repo names used by members of the `rbind` organization [here](https://github.com/rbind/repositories).
* If you want to host your site as a Github Page, you should name your repository `yourgithubusername.github.io`
    
## In terminal

Or your alternative command line tool for a Windows machine.
    
* Use `cd` to navigate into the directory where you want your repo to be, and then type:
`git clone https://github.com/apreshill/apreshill.git`

This is what subsequently printed in my terminal window:

```{r}
ORPA473:r-projects hillali$ git clone https://github.com/apreshill/apreshill.git
Cloning into 'apreshill'...
remote: Counting objects: 3, done.
remote: Compressing objects: 100% (2/2), done.
remote: Total 3 (delta 0), reused 0 (delta 0), pack-reused 0
Unpacking objects: 100% (3/3), done.
Checking connectivity... done.
ORPA473:r-projects hillali$ 
```

## Back in RStudio

* Use your menu buttons on top to select File --> New Project --> Existing directory, then I pointed RStudio to [insert image here]

* Now, if you are using git for version control, edit your `*gitignore` file. I opened mine from RStudio but you can use any text editor to open and edit this file. Below is what it should look like: the first four lines will automatically be in this file if you have set up your RStudio Project, but you need to add the `public/` line ([read about here](https://bookdown.org/yihui/blogdown/version-control.html).)

```{r}
.Rproj.user
.Rhistory
.RData
.Ruserdata
blogdown
.DS_Store
public/ # if using Netlify
```


* Finally you can start to build your site using the `blogdown::new_site()` function. But first you should know...

    - If you want a theme other than the default, which is the lithium theme, you can do this now!
    
```{r}
# for example, create a new site with the academic theme
blogdown::new_site(theme = "gcushen/hugo-academic")
```

    
    - If instead you want to add the theme (like I did, because I didn't see the above example until it was too late!), use this function:
    
```{r}
install_theme("gcushen/hugo-academic", theme_example = TRUE, update_config = TRUE)
```

## In RStudio

### Edit your configurations

1. Edit the `baseURL:` in your `config.toml` file

* [From Yihui & Amber's `blogdown` book:](https://bookdown.org/yihui/blogdown/configuration.html#toml-syntax)
* [Amber's instructions for site configuration](https://proquestionasker.github.io/blog/Making_Site/#site-configuration)


### Posting

This surprisingly was harder than you would think. Note: in the academic theme, these are called posts. Here are some relevant links:

* [From Yihui & Amber's `blogdown` book:](https://bookdown.org/yihui/blogdown/rstudio-ide.html)
* [Also from Yihui & Amber's `blogdown` book, on .md versus .Rmd posts:](https://bookdown.org/yihui/blogdown/output-format.html)
* [Amber's instructions for adding a blog post](https://proquestionasker.github.io/blog/Making_Site/#adding-a-blog-post-or-portfolio-piece)

#### New markdown posts

* To author a new plain `.md` post, either use this function in your console:

```{r}
blogdown::new_post()
blogdown::new_post(rmd = FALSE) # false is the default!
```

Here are the arguments according to `?new_post`:

```{r}
new_post(title, kind = "default", open = interactive(), 
    author = getOption("blogdown.author"), categories = NULL, 
    tags = NULL, date = Sys.Date(), file = NULL, slug = NULL, 
    subdir = getOption("blogdown.subdir", "post"), rmd = getOption("blogdown.rmd", 
        FALSE))
```

Title needs to be in quotes.

Or alternatively, you can use the handy Addins dropdown menu in the 

#### New RMarkdown posts

* To author a new `.Rmd` post where you can use R chunks and have them rendered, either use this function in your console:

```{r}
blogdown::new_post(rmd = TRUE) # false is the default!
```

Or again, you can use the handy Addins dropdown menu in the 

* Importantly, to have the `.Rmd` file include rendered R chunks, you must either run `blogdown::serve_site()` or knit your file to html first, then commit/push to Github, then you will see the full post.
